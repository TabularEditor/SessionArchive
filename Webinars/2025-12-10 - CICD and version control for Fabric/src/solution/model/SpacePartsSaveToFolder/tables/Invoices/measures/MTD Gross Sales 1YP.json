{
  "name": "MTD Gross Sales 1YP",
  "expression": [
    "",
    "-- Calculates Target for the current month/year selection",
    "VAR _CurrentMonth =",
    "    CALCULATE (",
    "        [Gross Sales 1YP],",
    "        ALL ( 'Date' ),",
    "        VALUES (",
    "            'Date'[Calendar Month Year (ie Jan 21)]",
    "        )",
    "    )",
    "",
    "-- Computes rate at which Target increases through the month",
    "VAR _CurrentMonthWDMTD =",
    "    POWER (",
    "        CALCULATE (",
    "            MAX ( 'Date'[Workdays MTD %] ),",
    "            'Date'[IsDateInScope] = TRUE",
    "        ),",
    "        0.93",
    "    )",
    "VAR _CurrentMonthWDTotal =",
    "    POWER (",
    "        CALCULATE (",
    "            MAX ( 'Date'[Workdays MTD %] )",
    "        ),",
    "        0.93",
    "    )",
    "VAR _Period =",
    "    SELECTEDVALUE (",
    "        '4) Selected Period'[Period]",
    "    )",
    "VAR _HasOneMonth =",
    "    HASONEVALUE (",
    "        'Date'[Calendar Month Year (ie Jan 21)]",
    "    )",
    "RETURN",
    "    -- return MTD value if a month is selected",
    "    IF.EAGER (",
    "        _HasOneMonth && _Period = \"Full Period\",",
    "        _CurrentMonthWDTotal",
    "            * _CurrentMonth,",
    "        IF (",
    "            _HasOneMonth,",
    "            _CurrentMonthWDMTD",
    "                * _CurrentMonth",
    "        )",
    "    )"
  ],
  "formatString": "#,##0",
  "displayFolder": "1. Value\\a. Gross Sales Actuals\\II. 1YP\\MTD",
  "lineageTag": "c286b77d-b313-4767-8645-1fd3a5d0c0c8"
}